# Cursor Rules for 4lock-core

This file references Cursor resources in `.cursor/`. Rules and docs are adapted from 4lock-agent and instantiated for 4lock-core (Linux-only Rust workspace: blob, container, vappcore).

## Directory structure

- **`.cursor/docs/`** – Architecture and development docs (overview, crate layout, dev guide). See `.cursor/docs/README.md`.
- **`.cursor/rules/`** – Modular rules (context inclusion, core project, Rust workspace, workflow, architecture, OS). See `.cursor/README.md`.

## Context loading

**MANDATORY**: Before any task, consult relevant docs in `.cursor/docs/` and rules in `.cursor/rules/`. See `.cursor/rules/00-context-inclusion.mdc` for what to load and when.

## Key rules

1. **Always consult `.cursor/docs/` and `.cursor/rules/`** before making changes.
2. **Crate placement**: blob (registry/cache), container (OCI/CRI/bootstrap), vappcore (daemon/protocol/client). See `.cursor/docs/01-crate-architecture.md`.
3. **Build/run**: On Linux use Cargo or Makefile; on other hosts use `make` (containerized). Default `make` = build then run. `make run` uses detached container + `logs -f`; Ctrl+C stops and removes the container and exits. See `.cursor/docs/05-development-guide.md`.
4. **Bootstrap**: Tasks must be idempotent; validate template variables. See `.cursor/rules/05-architecture-usage.mdc`.

## Quick links

- **Overview**: `.cursor/docs/00-overview.md`
- **Crate layout**: `.cursor/docs/01-crate-architecture.md`
- **Development**: `.cursor/docs/05-development-guide.md`
- **Context rule**: `.cursor/rules/00-context-inclusion.mdc`
- **Core project**: `.cursor/rules/01-core-project.mdc`
